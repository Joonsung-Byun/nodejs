<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="/output.css" rel="stylesheet">
</head>

<body class="bg-gray-100 pb-4">
  <%- include('nav.ejs') %>

  <div id="listWrapper" class="p-4">


    <!-- html을 해석해서 렌더링 해줌 -->
    <div class="drop-shadow-lg pb-4">
      <% for (let i=0; i < posts.length; i++) {%>
        <% console.log(isAuthenticated) %>
        <div class="cardWrapper flex flex-col gap-4 bg-white rounded-lg drop-shadow-lg overflow-hidden mb-6">
          <section>
              <img src="/images/image.png" alt="hero" class="w-full h-auto">
          </section>

          <section class="flex flex-col gap-4 justify-between px-2">
              <div class="flex flex-col gap-1">
                  <h2 class="font-semibold "> <%= posts[i].title %></h2>
               

                  <% 
                  const content = posts[i].content;
                  const truncatedContent = content.length > 23 ? content.substring(0, 23) + '...' : content;
                %>
                <p class="text-gray-600"><%= truncatedContent %></p>
              </div>

              <span>2024년 9월 28일·11개의 댓글</span>
              
          </section>
      </div>

        <% }%>
        
      </div>

      <ul class="flex items-center justify-center -space-x-px h-10 text-base mt-4">
        <li id="previousBtn">
          <a href="/list/<%= parseInt(currentPage) - parseInt(1) %>"  class="flex items-center justify-center px-4 h-10 ms-0 leading-tight text-gray-500 bg-white border border-e-0 border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">
            <span class="sr-only">Previous</span>
            <svg class="w-3 h-3 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 1 1 5l4 4"/>
            </svg>
          </a>
        </li>
        <% const amount = Math.ceil(total / 6) %>
        <% for(let i =0; i< amount; i++) {%>
        <li class="border">
          <a href="/list/<%= i+1 %>" data-page="page_<%= i+1 %>" class="page_btn flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"><%= i+1 %></a>
        </li>
        <% } %>
        <li id="nextBtn">
          <a href="/list/<%= parseInt(currentPage) + parseInt(1) %>" class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 border bg-white border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700  dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">
            <span class="sr-only">Next</span>
            <svg class="w-3 h-3 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
            </svg>
          </a>
        </li>
      </ul>


      </div>
        <script src="/delete.js"></script>
</body>

</html>      
